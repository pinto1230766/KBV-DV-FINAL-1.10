<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>KBV DV LYON .FP</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Theme Color for Browser UI on Mobile -->
    <meta name="theme-color" content="#1e293b" />
    
    <!-- iOS PWA Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="KBV DV LYON .FP">

    <!-- Samsung DeX Mode Support -->
    <meta name="samsung_dex_mode_supported" content="true">
    
    <link id="favicon" rel="icon" href="/icons/icon-192x192.png">
    <link id="apple-touch-icon" rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    

    <script>
      // Applique le thème et le logo au chargement initial pour éviter le FOUC (Flash Of Unstyled Content)
      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const isDarkModeActive = localStorage.getItem('is-dark-mode');
      const docEl = document.documentElement;

      docEl.classList.remove('dark'); // Commencer sans le mode sombre

      // Déterminer si le mode sombre doit être activé
      if (isDarkModeActive === 'true' || (isDarkModeActive === null && systemPrefersDark)) {
        docEl.classList.add('dark');
      }
      
      const customLogo = localStorage.getItem('customAppLogo');
      if (customLogo) {
          const favicon = document.getElementById('favicon');
          if (favicon) favicon.setAttribute('href', customLogo);
          const appleIcon = document.getElementById('apple-touch-icon');
          if (appleIcon) appleIcon.setAttribute('href', customLogo);
      }
    </script>
  </head>
  <body class="font-sans text-text-main dark:text-text-main-dark">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>